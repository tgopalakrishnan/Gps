<f:subview id="#{widget.id}" xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxd="http://nuxeo.org/nxweb/document"
	xmlns:nxh="http://nuxeo.org/nxweb/html"
	xmlns:nxl="http://nuxeo.org/nxforms/layout"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:nxp="http://nuxeo.org/nxweb/pdf">
	<nxu:set var="typeLabel" value="#{nxd:typeLabel(field)}">
		<nxu:set var="label"
			value="#{empty typeLabel ? field_2 : messages[typeLabel]}">
			<c:if test="#{nxl:isLikePlainMode(widget.mode)}">#{nxd:titleOrId(field_0)}</c:if>
			<c:if test="#{nxl:isLikeViewMode(widget.mode)}">

				<div class="popupTarget dropout" docRef="#{field_1}">

					<nxd:restDocumentLink document="#{field_0}"
						rendered="#{empty field_3}"
						tab="#{widgetProperty_tab}" subTab="#{widgetProperty_subTab}">
						<span id="title_#{field_1}" title="#{label}">
							#{nxd:titleOrId(field_0)} </span>
					</nxd:restDocumentLink>

					<nxh:outputLink
						rendered="#{field_0.hasSchema(widget.properties.file_schema) and !empty field_3}"
						value="#{nxd:fileUrl('downloadFile', field_0, widget.properties.file_property_name, field_4)}">
						#{nxd:titleOrId(field_0)}
					</nxh:outputLink>

				</div>

			</c:if>
			<c:if test="#{widget.mode == 'pdf'}">
				<nxp:html>#{nxd:titleOrId(field_0)}</nxp:html>
			</c:if>
		</nxu:set>
	</nxu:set>
</f:subview>