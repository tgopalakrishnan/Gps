<?xml version="1.0"?>

<component name="com.sharplabs.clouddesk.layouts.webapp">

	<require>org.nuxeo.ecm.platform.forms.layouts.webapp</require>

	<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
		point="widgets">


		<widget name="nature" type="selectOneDirectory">
			<labels>
				<label mode="any">label.dublincore.nature</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:nature</field>
			</fields>
			<properties mode="any">
				<property name="directoryName">nature</property>
				<property name="localize">true</property>
				<property name="ordering">ordering,label</property>
			</properties>
		</widget>

		<widget name="subjects" type="template">
			<labels>
				<label mode="any">label.dublincore.subject</label>
			</labels>
			<helpLabels>
				<label mode="edit">label.dublincore.subjects.info</label>
			</helpLabels>
			<translated>false</translated>
			<fields>
				<field>dc:subjects</field>
			</fields>
			<properties mode="any">
				<property name="template">/widgets/subjects_widget.xhtml</property>
			</properties>
		</widget>

		<widget name="rights" type="text">
			<labels>
				<label mode="any">label.dublincore.rights</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:rights</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="source" type="text">
			<labels>
				<label mode="any">label.dublincore.source</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:source</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="coverage" type="template">
			<labels>
				<label mode="any">label.dublincore.coverage</label>
			</labels>
			<helpLabels>
				<label mode="edit">label.dublincore.coverage.info</label>
			</helpLabels>
			<translated>false</translated>
			<fields>
				<field>dc:coverage</field>
			</fields>
			<properties mode="any">
				<property name="template">/widgets/coverage_widget.xhtml</property>
			</properties>
		</widget>

		<widget name="format" type="text">
			<labels>
				<label mode="any">label.dublincore.format</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:format</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>


		<widget name="language" type="text">
			<labels>
				<label mode="any">label.dublincore.language</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:language</field>
			</fields>
			<properties widgetMode="edit">
				<property name="styleClass">dataInputText</property>
			</properties>
		</widget>

		<widget name="expired" type="datetime">
			<labels>
				<label mode="any">label.dublincore.expired</label>
			</labels>
			<translated>false</translated>
			<fields>
				<field>dc:expired</field>
			</fields>
			<properties widgetMode="any">
				<property name="pattern">#{nxu:basicDateFormater()}</property>
			</properties>
			<properties widgetMode="edit">
				<property name="format">#{nxu:basicDateFormater()}</property>
			</properties>
		</widget>



		<widget name="document_type" type="template">
			<labels>
				<label mode="any">label.cd_common.document_type</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>cd_common:document_type</field>
			</fields>
			<properties mode="any">
				<property name="directoryName">cd_document_type</property>
				<property name="localize">true</property>
				<property name="ordering">ordering,label</property>
				<property name="template">/incl/document_type_ajax_widget.xhtml
				</property>
			</properties>

		</widget>

		<widget name="customer_name" type="text">
			<labels>
				<label mode="any">label.cd_invoice.customer_name</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>cd_invoice:customer_name</field>
			</fields>
			<!-- Hide field if not Invoice -->
			<widgetModes>
				<mode value="any">
					#{value.cd_common.document_type != 'invoice' ?
					'hidden' : mode}
				</mode>
			</widgetModes>
			<properties mode="any">
				<property name="localize">true</property>
			</properties>
		</widget>

		<widget name="width" type="int">
			<labels>
				<label mode="any">label.cd_iwb.width</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>cd_iwb:width</field>
			</fields>
			<widgetModes>
				<mode value="any">
					#{value.cd_common.document_type != 'iwb' ? 'hidden'
					: mode}
				</mode>
			</widgetModes>
			<properties mode="any">
				<property name="localize">true</property>
			</properties>
		</widget>

		<widget name="height" type="int">
			<labels>
				<label mode="any">label.cd_iwb.height</label>
			</labels>
			<translated>true</translated>
			<widgetModes>
				<mode value="any">
					#{value.cd_common.document_type != 'iwb' ? 'hidden'
					: mode}
				</mode>
			</widgetModes>
			<fields>
				<field>cd_iwb:height</field>
			</fields>
			<properties mode="any">
				<property name="localize">true</property>
			</properties>
		</widget>

		
		
		   </extension>
		   
		   
		   
		   
		<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
			point="widgets">
			
		<!-- 	
			<widget name="note" type="richtext_with_mimetype">
			<labels>
				<label mode="any">note</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>note:note</field>
				<field>note:mime_type</field>
			</fields>
			<properties mode="view">
				<property name="translatedHtml">
					#{noteActions.translateImageLinks(field_0)}
				</property>
			</properties>
		</widget>


		<widget name="file" type="template">
			<labels>
				<label mode="any">label.file.content</label>
			</labels>
			<translated>true</translated>
			<fields>
				<field>file:content</field>
				<field>file:filename</field>
			</fields>
			<widgetModes>
				<mode value="full_edit">edit</mode>
				<mode value="edit">edit</mode>
				<mode value="view">view</mode>
				<mode value="view">preview</mode>
			</widgetModes>
			<properties mode="any">
				<property name="template">/widgets/extended_file_widget.xhtml
				</property>
			</properties>
		</widget>
		
		

			<widget name="imageFile" type="image">
				<labels>
					<label mode="edit">label.file.content</label>
				</labels>
				<translated>false</translated>
				<fields>
					<field>file:content</field>
					<field>file:filename</field>
				</fields>
			</widget>
			
	 -->
			<widget name="created by" type="template">
				<labels>
					<label mode="any">label.dublincore.creator</label>
				</labels>
				<helpLabels>
					<label mode="edit">label.dublincore.author.info</label>
				</helpLabels>
				<translated>true</translated>
				<fields>
					<field>dc:creator</field>
				</fields>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
				<properties mode="any">
					<property name="template">
						/widgets/single_user_widget_template.xhtml
					</property>
				</properties>
			</widget>

			<widget name="created on" type="datetime">
				<labels>
					<label mode="any">label.dublincore.created</label>
				</labels>
				<translated>true</translated>
				<fields>
					<field>dc:created</field>
				</fields>
				<properties widgetMode="any">
					<property name="pattern">#{nxu:basicDateAndTimeFormater()}
					</property>
				</properties>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
			</widget>



			<widget name="last modified by" type="template">
				<labels>
					<label mode="any">label.dublincore.lastContributor</label>
				</labels>
				<helpLabels>
					<label mode="edit">label.dublincore.lastContributor.info</label>
				</helpLabels>
				<translated>true</translated>
				<fields>
					<field>dc:lastContributor</field>
				</fields>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
				<properties mode="any">
					<property name="template">
						/widgets/single_user_widget_template.xhtml
					</property>
				</properties>
			</widget>

			<widget name="last modified on" type="datetime">
				<labels>
					<label mode="any">label.dublincore.modified</label>
				</labels>
				<translated>true</translated>
				<fields>
					<field>dc:modified</field>
				</fields>
				<properties widgetMode="any">
					<property name="pattern">#{nxu:basicDateAndTimeFormater()}
					</property>
				</properties>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
			</widget>
			
			<widget name="modified by" type="template">
				<labels>
					<label mode="any">label.properties.dublincore.lastContributor</label>
				</labels>
				<helpLabels>
					<label mode="edit">label.dublincore.lastContributor.info</label>
				</helpLabels>
				<translated>true</translated>
				<fields>
					<field>dc:lastContributor</field>
				</fields>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
				<properties mode="any">
					<property name="template">
						/widgets/single_user_widget_template.xhtml
					</property>
				</properties>
			</widget>

			<widget name="modified on" type="datetime">
				<labels>
					<label mode="any">label.properties.dublincore.modified</label>
				</labels>
				<translated>true</translated>
				<fields>
					<field>dc:modified</field>
				</fields>
				<properties widgetMode="any">
					<property name="pattern">#{nxu:basicDateAndTimeFormater()}
					</property>
				</properties>
				<widgetModes>
					<mode value="any">view</mode>
					<mode value="pdf">pdf</mode>
				</widgetModes>
			</widget>

			
		</extension>

		<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
			point="layouts">
			<layout name="cd_common">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>document_type</widget>
					</row>
					<row>
						<widget>created</widget>
					</row>
					<row>
						<widget>modified</widget>
					</row>
					<row>
						<widget>language</widget>
					</row>
					<row>
						<widget>author</widget>
					</row>
					<row>
						<widget>contributors</widget>
					</row>
					<row>
						<widget>lastContributor</widget>
					</row>
				</rows>
			</layout>

			<layout name="cd_invoice">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>customer_name</widget>
					</row>
				</rows>
			</layout>

			<layout name="cd_iwb">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>width</widget>
					</row>
					<row>
						<widget>height</widget>
					</row>
				</rows>
			</layout>

			<layout name="dublincore">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>

					<row>
						<widget>created by</widget>
					</row>

					<row>
						<widget>created on</widget>
					</row>

					<row>
						<widget>last modified by</widget>
					</row>

					<row>
						<widget>last modified on</widget>
					</row>


				</rows>
			</layout>
			
			<layout name="cd_properties_dublincore">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>created by</widget>
					</row>
					<row>
						<widget>created on</widget>
					</row>
					<row>
						<widget>modified by</widget>
					</row>
					<row>
						<widget>modified on</widget>
					</row>
				</rows>
			</layout>


		<!-- 	<layout name="file">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>file</widget>
					</row>
				</rows>
			</layout>

			<layout name="note">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>note</widget>
					</row>
				</rows>
			</layout>

			<layout name="picture">
				<templates>
					<template mode="any">/layouts/layout_default_template.xhtml
					</template>
				</templates>
				<rows>
					<row>
						<widget>imageFile</widget>
					</row>
				</rows>
			</layout>
-->
 
		</extension>
<extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="layouts">
 	<layout name="cd_document_content_filter">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <!-- <row>
          <widget>search_title</widget>
        </row> -->
        <row>
          <widget>search_modified_min</widget>
          <widget>search_modified_max</widget>
        </row>
      </rows>
      <widget name="search_modified_min" type="datetime">
      <labels>
        <label mode="any">label.dublincore.filterFrom</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>search:modified_min</field>
      </fields>
      <properties widgetMode="any">
        <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
      </properties>
      <properties widgetMode="edit">
        <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        <property name="defaultTime">00:00</property>
		<property name="triggerImg">/icons/Calendar_Icon.gif</property>
      </properties>
    </widget>

    <widget name="search_modified_max" type="datetime">
      <labels>
        <label mode="any">label.dublincore.filterTo</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>search:modified_max</field>
      </fields>
      <properties widgetMode="any">
        <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
      </properties>
      <properties widgetMode="edit">
        <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        <property name="defaultTime">23:59</property>
		<property name="triggerImg">/icons/Calendar_Icon.gif</property>
      </properties>
    </widget>
      
    </layout>
    
 </extension>  


</component>