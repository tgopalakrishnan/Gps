<?xml version="1.0"?>

<component
  name="com.sharplabs.clouddesk.platform.notification.service.NotificationContrib">
  <require>org.nuxeo.ecm.platform.notification.service.NotificationContrib</require>
  

  <extension
    target="org.nuxeo.ecm.platform.ec.notification.service.NotificationService"
    point="notifications">
   
    <notification name="Workflow Change" channel="email" enabled="false" availableIn="Workspace"
      autoSubscribed="false" template="workflow" subject="Workflow event" label="label.nuxeo.notifications.workflow">
      <event name="workflowNewProcessStarted"/>
      <event name="workflowProcessEnded"/>
      <event name="workflowProcessCanceled"/>
      <event name="workflowAbandoned"/>
      <event name="workflowTaskCompleted"/>
      <event name="workflowTaskRejected"/>
      <event name="workflowTaskAssigned"/>
    </notification>

    <notification name="Approbation review started" channel="email" enabled="false" availableIn="Workspace"
      autoSubscribed="false" template="aprobationWorkflowStarted" subject="Review started for ${docTitle}"
      label="label.nuxeo.notifications.appReviewStarted">
      <event name="workflowNewProcessStarted"/>
    </notification>
     
     
    
     <notification name="Creation" channel="email" enabled="false" availableIn="Workspace"
      autoSubscribed="false" template="modif" subject="${docTitle} has been created by ${author}" label="label.nuxeo.notifications.create">
      <event name="documentCreated"/>
    </notification>
   
   <notification name="Modification" channel="email" enabled="false" availableIn="Workspace"
      autoSubscribed="false" template="modif" subject="${docTitle} has been modified by ${author}" label="label.nuxeo.notifications.modif">
      <event name="documentModified"/>
    </notification>
       
   
   
    <notification name="AddNotes" channel="email" enabled="true" availableIn="Workspace" 
      autoSubscribed="false" template="note" subject="Comment published" label="notifications.name.Comments">
      <event name="commentPublished"/>
    </notification>
      
  </extension>

  <extension
    target="org.nuxeo.ecm.platform.ec.notification.service.NotificationService"
    point="templates">
    
    <template name="workflow" src="templates/workflow.ftl" />
    <template name="aprobationWorkflowStarted" src="templates/appReviewStarted.ftl" />
    <template name="note" src="templates/notes.ftl" />

  </extension>

</component>
